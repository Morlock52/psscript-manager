import{r as e,j as a,T as s,p as r,aC as n,aD as t,D as l,t as o,a3 as i,a4 as c,a5 as h,Z as p,q as d,U as y}from"./react-vendor-chunk-d925dc83.js";import{u as v}from"../assets/index-c53f325e.js";import"./editor-chunk-85777d73.js";import"./data-fetching-chunk-60e2cc94.js";const m=()=>{v();const[m,E]=e.useState(!1),[u,_]=e.useState(""),[x,I]=e.useState(!0),[A,g]=e.useState([{name:"openai_api_key",key:"",description:"OpenAI API Key for ChatGPT and other AI services",placeholder:"sk-...",url:"https://platform.openai.com/account/api-keys",envKey:"VITE_OPENAI_API_KEY",hasEnvValue:!!{}.VITE_OPENAI_API_KEY},{name:"google_api_key",key:"",description:"Google API Key for search and other Google services",placeholder:"AIza...",url:"https://console.cloud.google.com/apis/credentials",envKey:"VITE_GOOGLE_API_KEY",hasEnvValue:!!{}.VITE_GOOGLE_API_KEY},{name:"weather_api_key",key:"",description:"OpenWeather API Key for weather data",placeholder:"1a2b3c...",url:"https://home.openweathermap.org/api_keys",envKey:"VITE_WEATHER_API_KEY",hasEnvValue:!!{}.VITE_WEATHER_API_KEY},{name:"alpha_vantage_api_key",key:"",description:"Alpha Vantage API Key for financial data",placeholder:"ABC123...",url:"https://www.alphavantage.co/support/#api-key",envKey:"VITE_ALPHA_VANTAGE_API_KEY",hasEnvValue:!!{}.VITE_ALPHA_VANTAGE_API_KEY}]);e.useEffect(()=>{(()=>{const e=[...A];let a=!1;e.forEach((s,r)=>{if(s.envKey&&{VITE_USE_MOCKS:"false",VITE_API_URL:"http://localhost:4000/api",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[s.envKey])e[r]={...s,key:x?"":{VITE_USE_MOCKS:"false",VITE_API_URL:"http://localhost:4000/api",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[s.envKey]||"",hasEnvValue:!0},a=!0;else{const n=localStorage.getItem(s.name);n&&(e[r]={...s,key:n},a=!0)}}),a&&g(e)})()},[x]);return a.jsxs("div",{className:"p-6",children:[a.jsx(s,{variant:"h4",component:"h1",gutterBottom:!0,children:"API Settings"}),a.jsx(s,{variant:"body1",paragraph:!0,children:"Manage your API keys for external services. These keys are used by the application to access external APIs."}),a.jsxs(r,{sx:{mb:3},children:[a.jsx(n,{control:a.jsx(t,{checked:x,onChange:e=>{I(e.target.checked)},color:"primary"}),label:"Use environment variables when available"}),a.jsx(s,{variant:"body2",color:"text.secondary",children:"When enabled, the application will prioritize API keys set in environment variables over manual entries"})]}),a.jsx(l,{sx:{mb:4}}),u&&a.jsx(o,{severity:u.includes("Error")?"error":"success",sx:{mb:3},children:u}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:A.map((e,n)=>a.jsx(i,{variant:"outlined",sx:{mb:2},children:a.jsx(c,{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx(s,{variant:"h6",component:"h2",children:e.name.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),e.hasEnvValue&&a.jsx(o,{severity:"success",icon:!1,sx:{py:0,px:1},children:"Environment Variable Set"})]}),a.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),a.jsx(h,{type:"password",value:e.key,onChange:e=>((e,a)=>{const s=[...A];s[e]={...s[e],key:a},g(s)})(n,e.target.value),placeholder:e.hasEnvValue&&x?"Using environment variable (leave blank to use it)":e.placeholder,fullWidth:!0,margin:"normal",variant:"outlined",InputProps:{readOnly:e.hasEnvValue&&x},helperText:e.hasEnvValue&&x?"This key is set in environment variables and will be used automatically":`Enter your ${e.name.replace(/_/g," ")} here`}),a.jsx(r,{sx:{mt:1},children:a.jsxs(p,{href:e.url,target:"_blank",rel:"noopener",children:["Get ",e.name.replace(/_/g," ")," from provider"]})})]})})},e.name))}),a.jsx(r,{sx:{mt:4,display:"flex",justifyContent:"flex-end"},children:a.jsx(d,{variant:"contained",color:"primary",onClick:()=>{E(!0),_("");try{A.forEach(e=>{e.key?localStorage.setItem(e.name,e.key):localStorage.removeItem(e.name)}),_("API keys saved successfully"),setTimeout(()=>_(""),3e3)}catch(e){console.error("Error saving API keys:",e),_("Error saving API keys")}finally{E(!1)}},disabled:m||A.every(e=>!e.key||e.hasEnvValue&&x),startIcon:m?a.jsx(y,{size:20}):null,children:m?"Saving...":"Save API Keys"})})]})};export{m as default};
